webpackJsonp([1],{0:function(e,t){},1:function(e,t){},2:function(e,t){},3:function(e,t){},D7ke:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),s=n("mvHQ"),o=n.n(s),i=n("BO1k"),r=n.n(i),l=n("Cg+j"),c=n.n(l),u={HOST:"test.mosquitto.org",PORT:8080,TOPIC:"moey"},p=[{type:"login"},{type:"logout"},{type:"start-story",params:[{name:"story",options:[1,2,3],value:1}]},{type:"start-story-prerendered",params:[{name:"story",options:[1,2,3],value:1}]},{type:"play"},{type:"pause"},{type:"end-story"},{type:"start-mission",params:[{name:"mission",options:[1,2],value:1},{name:"autoPlay",options:[!0,!1],value:!1}],networkParams:[{name:"latency",options:[0,1,2,3,4,5],value:5},{name:"bandwidth",options:[0,1,2,3,4,5],value:5},{name:"reliability",options:[0,1,2,3,4,5],value:5},{name:"security",options:[0,1,2,3,4,5],value:5}]},{type:"end-mission"},{type:"calibrate"},{type:"end-calibration"},{type:"set-network",networkParams:[{name:"latency",options:[0,1,2,3,4,5],value:5},{name:"bandwidth",options:[0,1,2,3,4,5],value:5},{name:"reliability",options:[0,1,2,3,4,5],value:5},{name:"security",options:[0,1,2,3,4,5],value:5}]},{type:"play-story-outro"}],v={name:"App",data:function(){return{mqttClient:null,selectedMessageType:"",receivedMessages:[],messageTypes:p}},created:function(){this.initializeMqttClient()},methods:{initializeMqttClient:function(){var e=this;this.mqttClient=c.a.connect({host:u.HOST,port:u.PORT}),this.mqttClient.on("connect",function(){var t=u.TOPIC;e.mqttClient.subscribe(t)}),this.mqttClient.on("message",function(t,n){console.log("payload:",n);var a=String.fromCharCode.apply(null,n);e.receivedMessages.push(a)})},publishMessage:function(){var e={};if(e.type=this.selectedMessageType.type,this.selectedMessageType.params){var t=!0,n=!1,a=void 0;try{for(var s,i=r()(this.selectedMessageType.params);!(t=(s=i.next()).done);t=!0){var l=s.value;e[l.name]=l.value}}catch(e){n=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw a}}}if(this.selectedMessageType.networkParams){e.network={};var c=!0,p=!1,v=void 0;try{for(var m,d=r()(this.selectedMessageType.networkParams);!(c=(m=d.next()).done);c=!0){var y=m.value;e.network[y.name]=y.value}}catch(e){p=!0,v=e}finally{try{!c&&d.return&&d.return()}finally{if(p)throw v}}}console.log("publishing a message:",e),this.mqttClient.publish(u.TOPIC,o()(e))}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"block-container"},[n("div",{staticClass:"message-block"},[n("h1",[e._v("SEND A MESSAGE")]),e._v(" "),n("section",[n("h2",[e._v("1. Message Type")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedMessageType,expression:"selectedMessageType"}],staticClass:"message-type-selection",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedMessageType=t.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("\n            Select One\n          ")]),e._v(" "),e._l(e.messageTypes,function(t,a){return n("option",{key:a,domProps:{value:t}},[e._v("\n            "+e._s(t.type)+"\n          ")])})],2)]),e._v(" "),e.selectedMessageType.params||e.selectedMessageType.networkParams?n("section",[n("h2",[e._v("2. Message Parameters")]),e._v(" "),e.selectedMessageType.params?n("div",{staticClass:"message-option-selections-container"},e._l(e.selectedMessageType.params,function(t,a){return n("div",{key:a,staticClass:"message-option-selection"},[n("div",{staticClass:"param-name"},[e._v("\n              "+e._s(t.name)+":\n            ")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"param.value"}],on:{change:function(n){var a=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"value",n.target.multiple?a:a[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("\n                Select Value\n              ")]),e._v(" "),e._l(t.options,function(t,a){return n("option",{key:a},[e._v("\n                "+e._s(t)+"\n              ")])})],2)])})):e._e(),e._v(" "),e.selectedMessageType.networkParams?n("div",{staticClass:"message-option-selections-container"},[n("h3",[e._v("network:")]),e._v(" "),e._l(e.selectedMessageType.networkParams,function(t,a){return n("div",{key:a,staticClass:"message-option-selection network"},[n("div",{staticClass:"param-name"},[e._v("\n              "+e._s(t.name)+":\n            ")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"param.value"}],on:{change:function(n){var a=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"value",n.target.multiple?a:a[0])}}},[n("option",{attrs:{disabled:"",value:""}},[e._v("\n                Select Value\n              ")]),e._v(" "),e._l(t.options,function(t,a){return n("option",{key:a},[e._v("\n                "+e._s(t)+"\n              ")])})],2)])})],2):e._e()]):e._e(),e._v(" "),e.selectedMessageType?n("section",[n("button",{staticClass:"publish-button",on:{click:function(t){e.publishMessage()}}},[e._v("\n          PUBLISH\n        ")])]):e._e()]),e._v(" "),n("div",{staticClass:"history-block"},[n("h1",[e._v("MESSAGE HISTORY")]),e._v(" "),n("ul",e._l(e.receivedMessages,function(t,a){return n("li",{key:a},[e._v("\n          "+e._s(t)+"\n        ")])}))])])])},staticRenderFns:[]};var d=n("VU/8")(v,m,!1,function(e){n("D7ke")},null,null).exports,y=n("/ocq"),_={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n  Home\n")])},staticRenderFns:[]};var f=n("VU/8")({name:"Home"},_,!1,function(e){n("v7hK")},"data-v-1d093a53",null).exports;a.a.use(y.a);var g=new y.a({mode:"hash",routes:[{path:"/",name:"Home",component:f}]}),h=n("NYxO"),T={state:{},mutations:{},actions:{},getters:{},plugins:[function(e){e.subscribe(function(e,t){console.log(e.type,e.payload)})},function(e){e.subscribeAction(function(e,t){console.log("[store action] "+e.type+" | payload: ",e.payload)})}]};a.a.mixin({methods:{jumpTo:function(e,t){this.$router.push({name:e,params:t})}}}),a.a.use(h.a);var M=new h.a.Store(T);a.a.config.productionTip=!1,new a.a({el:"#app",router:g,store:M,components:{App:d},template:"<App/>"})},v7hK:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ebd61c17b14a85181de1.js.map