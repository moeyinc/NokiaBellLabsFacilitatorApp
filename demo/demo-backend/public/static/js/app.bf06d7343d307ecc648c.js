webpackJsonp([1],{0:function(e,t){},1:function(e,t){},2:function(e,t){},3:function(e,t){},"3JKj":function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),n=s("mvHQ"),o=s.n(n),i=s("BO1k"),r=s.n(i),l=s("Cg+j"),c=s.n(l),p={MQTT:{HOST:"mqtt.jonahb.com",PORT:8080,TOPIC:"moey",TOPICS:["moey","moey-dev","n2-dev"]}},u=[{type:"login"},{type:"logout"},{type:"start-story",params:[{name:"story",options:[1,2,3],value:1}]},{type:"start-story-prerendered",params:[{name:"story",options:[1,2,3],value:1}]},{type:"play"},{type:"pause"},{type:"end-story"},{type:"start-mission",params:[{name:"mission",options:[1,2],value:1},{name:"autoPlay",options:[!0,!1],value:!1},{name:"numberOfPlayers",options:[1,2],value:1}],networkParams:[{name:"latency",options:[0,1,2,3,4,5],value:5},{name:"bandwidth",options:[0,1,2,3,4,5],value:5},{name:"reliability",options:[0,1,2,3,4,5],value:5},{name:"security",options:[0,1,2,3,4,5],value:5}]},{type:"proceed"},{type:"end-mission"},{type:"calibrate"},{type:"end-calibration"},{type:"set-network",networkParams:[{name:"latency",options:[0,1,2,3,4,5],value:5},{name:"bandwidth",options:[0,1,2,3,4,5],value:5},{name:"reliability",options:[0,1,2,3,4,5],value:5},{name:"security",options:[0,1,2,3,4,5],value:5}]},{type:"play-story-outro"}],v=[{type:"completed-story-intro"},{type:"completed-story"},{type:"completed-mission"},{type:"completed-story-interlude"}],m={name:"App",data:function(){return{mqttClient:null,selectedMessageType:"",selectedTopic:"",historyItems:[],topics:p.MQTT.TOPICS,errorMessage:""}},created:function(){this.initializeMqttClient()},computed:{fab2GameMessageTypes:function(){return u},game2FabMessageTypes:function(){return v}},methods:{initializeMqttClient:function(){var e=this;this.mqttClient=c.a.connect({host:p.MQTT.HOST,port:p.MQTT.PORT}),this.mqttClient.on("connect",function(){var t=p.MQTT.TOPICS,s=!0,a=!1,n=void 0;try{for(var o,i=r()(t);!(s=(o=i.next()).done);s=!0){var l=o.value;e.mqttClient.subscribe(l)}}catch(e){a=!0,n=e}finally{try{!s&&i.return&&i.return()}finally{if(a)throw n}}}),this.mqttClient.on("message",function(t,s){var a={topic:t,message:String.fromCharCode.apply(null,s)};e.historyItems.push(a)})},publishMessage:function(){var e={};if(e.type=this.selectedMessageType.type,this.selectedMessageType.params){var t=!0,s=!1,a=void 0;try{for(var n,i=r()(this.selectedMessageType.params);!(t=(n=i.next()).done);t=!0){var l=n.value;e[l.name]=l.value}}catch(e){s=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(s)throw a}}}if(this.selectedMessageType.networkParams){e.network={};var c=!0,p=!1,u=void 0;try{for(var v,m=r()(this.selectedMessageType.networkParams);!(c=(v=m.next()).done);c=!0){var y=v.value;e.network[y.name]=y.value}}catch(e){p=!0,u=e}finally{try{!c&&m.return&&m.return()}finally{if(p)throw u}}}this.selectedTopic?(this.errorMessage="",console.log("publishing a message:",e),this.mqttClient.publish(this.selectedTopic,o()(e))):this.errorMessage="No topic is selected!"}}},y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"block-container"},[s("div",{staticClass:"message-block"},[s("h1",[e._v("SEND A MESSAGE")]),e._v(" "),s("section",[s("h2",[e._v("1. Select Topic")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedTopic,expression:"selectedTopic"}],staticClass:"topic-selection",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedTopic=t.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:"",value:""}},[e._v("\n            Select One\n          ")]),e._v(" "),e._l(e.topics,function(t,a){return s("option",{key:a,domProps:{value:t}},[e._v("\n            "+e._s(t)+"\n          ")])})],2)]),e._v(" "),s("section",[s("h2",[e._v("2. Message Type")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedMessageType,expression:"selectedMessageType"}],staticClass:"message-type-selection",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedMessageType=t.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:"",value:""}},[e._v("\n            Select One\n          ")]),e._v(" "),s("optgroup",{attrs:{label:"Facilitator to Game"}},e._l(e.fab2GameMessageTypes,function(t,a){return s("option",{key:a,domProps:{value:t}},[e._v("\n              "+e._s(t.type)+"\n            ")])})),e._v(" "),s("optgroup",{attrs:{label:"Game to Facilitator"}},e._l(e.game2FabMessageTypes,function(t,a){return s("option",{key:a,domProps:{value:t}},[e._v("\n              "+e._s(t.type)+"\n            ")])}))])]),e._v(" "),e.selectedMessageType.params||e.selectedMessageType.networkParams?s("section",[s("h2",[e._v("3. Message Parameters")]),e._v(" "),e.selectedMessageType.params?s("div",{staticClass:"message-option-selections-container"},e._l(e.selectedMessageType.params,function(t,a){return s("div",{key:a,staticClass:"message-option-selection"},[s("div",{staticClass:"param-name"},[e._v("\n              "+e._s(t.name)+":\n            ")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"param.value"}],on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"value",s.target.multiple?a:a[0])}}},[s("option",{attrs:{disabled:"",value:""}},[e._v("\n                Select Value\n              ")]),e._v(" "),e._l(t.options,function(t,a){return s("option",{key:a},[e._v("\n                "+e._s(t)+"\n              ")])})],2)])})):e._e(),e._v(" "),e.selectedMessageType.networkParams?s("div",{staticClass:"message-option-selections-container"},[s("h3",[e._v("network:")]),e._v(" "),e._l(e.selectedMessageType.networkParams,function(t,a){return s("div",{key:a,staticClass:"message-option-selection network"},[s("div",{staticClass:"param-name"},[e._v("\n              "+e._s(t.name)+":\n            ")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"param.value"}],on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"value",s.target.multiple?a:a[0])}}},[s("option",{attrs:{disabled:"",value:""}},[e._v("\n                Select Value\n              ")]),e._v(" "),e._l(t.options,function(t,a){return s("option",{key:a},[e._v("\n                "+e._s(t)+"\n              ")])})],2)])})],2):e._e()]):e._e(),e._v(" "),e.selectedMessageType?s("section",[s("button",{staticClass:"publish-button",on:{click:function(t){e.publishMessage()}}},[e._v("\n          PUBLISH\n        ")]),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"error-message"},[e._v("\n          "+e._s(e.errorMessage)+"\n        ")])]):e._e()]),e._v(" "),s("div",{staticClass:"history-block"},[s("h1",[e._v("MESSAGE HISTORY")]),e._v(" "),s("ul",e._l(e.historyItems,function(t,a){return s("li",{key:a},[s("div",{staticClass:"topic-column"},[e._v("\n            "+e._s(t.topic)+"\n          ")]),e._v(" "),s("div",{staticClass:"message-column"},[e._v("\n            "+e._s(t.message)+"\n          ")])])}))])])])},staticRenderFns:[]};var d=s("VU/8")(m,y,!1,function(e){s("3JKj")},null,null).exports;a.a.config.productionTip=!1,new a.a({el:"#app",components:{App:d},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.bf06d7343d307ecc648c.js.map